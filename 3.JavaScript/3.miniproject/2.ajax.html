<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>귀여운 강아지</title>
</head>
<body>
    <h1>귀여운 강아지를 보세요!</h1>
    <img id="dog_img" src="https://images.dog.ceo/breeds/terrier-australian/FB_IMG_1596625396617.jpg" alt="강아지랜덤이미지">
    <botton id="next" onclick = 'changeimage()'>다른 강아지 보기</botton>

</body>
<script>
//====방법1=====
//await을 쓰려면 async가 있어야 한다.
    const requestDogImage = async () => {
        const response = await fetch("https://dog.ceo/api/breeds/image/random");
        console.log(response);
        const jsonData = await response.json();
        console.log(jsonData); //제이슨으로 변환해줌. 
    

        const dogElement = document.getElementById('dog_img');
        dogElement.setAttribute('src', jsonData.message);

    }

    const changeimage = async() => {
        requestDogImage();   
    }

//=======방법2===========
const ajaxRequestDogImage = async () => {
        const response = await fetch("https://dog.ceo/api/breeds/image/random");
        const jsonData = await response.json();
    
        return jsonData.message;
}

function addElement(src) {
    const img = document.createElement('img');
    document.body.appendChild(img);
    img.setAttribute("src", src)
}

function changeDom(src) {
    const dom = document.getElementById("dog_img");
    dom.setAttribute('src', src)
}

function changeimg() {
    ajaxRequestDogImage().then((it) => {
        changeDome(it);
        addElement(it);
    });
}



</script>
</html>

    


